<!DOCTYPE HTML>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="/layout/userLayout">
<head>
    <link rel="stylesheet" type="text/css"
          href="/webjars/bootstrap/css/bootstrap.min.css" />
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript"
            src="/webjars/bootstrap/js/bootstrap.min.js"></script>

    <title>Login</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Electro - HTML Ecommerce Template</title>

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700" rel="stylesheet">

    <!-- Bootstrap -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" th:href="@{/vendor/bootstrap/css/bootstrap.min.css}"
          rel="stylesheet">
    <!-- Slick -->
    <link type="text/css" rel="stylesheet" href="vendor/bootstrap/css/slick.css"
          th:href="@{/vendor/bootstrap/css/slick.css}"/>
    <link type="text/css" rel="stylesheet" href="vendor/bootstrap/css/slick-theme.css"
          th:href="@{/vendor/bootstrap/css/slick-theme.css}"/>

    <!-- nouislider -->
    <link type="text/css" rel="stylesheet" href="vendor/bootstrap/css/nouislider.min.css"
          th:href="@{/vendor/bootstrap/css/nouislider.min.css}"/>

    <!-- Font Awesome Icon -->
    <link rel="stylesheet" href="vendor/bootstrap/css/font-awesome.min.css"
          th:href="@{/vendor/bootstrap/css/font-awesome.min.css}">

    <!-- Custom stlylesheet -->
    <link type="text/css" rel="stylesheet" href="vendor/bootstrap/css/style.css"
          th:href="@{/vendor/bootstrap/css/style.css}"/>

    <!--Shopping Cart-->
    <link rel="stylesheet" href="vendor/bootstrap/css/font-awesome.css"
          th:href="@{/vendor/bootstrap/css/font-awesome.css}">
    <link rel="stylesheet" href="vendor/bootstrap/css/shop.css" th:href="@{/vendor/bootstrap/css/shop.css}">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>
<div layout:fragment="userlayout">

    <a style="text-align: end" class="btn btn-default" href="#" role="button" th:href="@{/register}">Sign Up new account</a>

    <div>
        <button ng-click="home.logout()" class="btn btn-primary">Logout</button>
    </div>

    <div class="container">
        <!-- /login?error=true -->
        <div th:if="${#request.getParameter('error') == 'true'}" style="color:red;margin:10px 0px;">
            Login Failed!!!<br/>
            Reason :
            <span th:if="${#session!= null and #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}"
                  th:utext="${#session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION').message}">Static summary</span>
        </div>

    </div>

    <div class="container ">

        <div class="row">

            <div class="col-md-3"></div>
            <div class="col-md-6 login-panel">

                <div class="row panel">
                    <div class="panel-heading">
                        <h3 class="panel-title">Please Sign In</h3>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 panel panel-default">
                        <div class="row">
                            <div class="panel-body">

                                <form role="form" name='f' th:action="@{/j_spring_security_check}" method='POST'>
                                    <fieldset>
                                        <div class="form-group">
                                            <label>Username:</label>
                                            <input class="form-control" placeholder="Name" name="username" type="text"
                                                   autofocus>
                                        </div>
                                        <div class="form-group">
                                            <label>Password:</label>
                                            <input class="form-control" placeholder="Password" name="password"
                                                   type="password" value="">
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                <input name="remember" type="checkbox" value="Remember Me">Remember Me?
                                            </label>
                                        </div>
                                        <input style="margin-left: 40%; margin-right: 40%" name="submit" type="submit"
                                               value="submit" class="btn btn-primary"></input>
                                    </fieldset>
                                </form>

                            </div>
                        </div>

                    </div>

                    <div class="col-md-6 panel panel-default">
                        <div class="row">
                            <div class="panel-body">
                                <form>
                                    <fieldset>
                                        <p>Login with social account</p>
                                    </fieldset>
                                    <br/>
                                    <fieldset>
                                        <div>
                                            <a href="/connect/facebook" th:href="@{/connect/facebook}" style="color:white"
                                               id="facebook-button" class="btn btn-block btn-social btn-facebook">
                                                <i class="fa fa-facebook"></i> Facebook
                                            </a>
                                        </div>
                                    </fieldset>
                                    <br/>
                                    <fieldset>
                                        <div>
                                            <a href="/connect/google" th:href="@{/connect/google}" style="color: white"
                                               id="google-button" class="btn btn-block btn-social btn-google">
                                                <i class="fa fa-google-plus"></i> Google
                                            </a>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3"></div>

        </div>
    </div>
    <br/>
    <footer>
        <div class="container">
            <br>
            <h4>Hello members! Hint for your logins.</h4>
            <ul>
                <li>Admin Account
                    <ul>
                        <li>name : yournameadmin</li>
                        <li>pass : yourname</li>
                    </ul>
                </li>
                <li>User Account
                    <ul>
                        <li>name : yournameuser</li>
                        <li>pass : yourname</li>
                    </ul>
                </li>
                <br/>
                <li><p style="color: orangered"> no cap & all samll & no space </p></li>
            </ul>
        </div>
    </footer>

</div>






<script type="text/javascript" src="/webjars/angularjs/angular.min.js"></script>
<script type="text/javascript">
    angular.module("app", []).controller("home", function($http) {
        var self = this;
        $http.get("/user").success(function(data) {
            self.user = data.userAuthentication.details.name;
            self.authenticated = true;
        }).error(function() {
            self.user = "N/A";
            self.authenticated = false;
        });
        self.logout = function() {
            $http.post('/logout', {}).success(function() {
                self.authenticated = false;
                $location.path("/");
            }).error(function(data) {
                console.log("Logout failed")
                self.authenticated = false;
            });
        };
    });
</script>

</body>

</html>